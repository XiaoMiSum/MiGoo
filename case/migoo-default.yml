name: migoo接口测试框架
config: # 配置信息
  request:
    protocol: https # 可缺省，默认http协议
    host: 127.0.0.1 # 可缺省，默认 127.0.0.1
    port: 80 #可缺省，http协议默认80，https默认443
    method: post # 可缺省，默认 GET
    headers:
      Content-Type: Application/json;charSet=utf-8
  jdbc: # 可缺省，此配置存在时，会创建一个默认jdbc连接添加到变量，key值：jdbc_default
    type: mysql # 可缺省，默认 mysql
    host: 127.0.0.1 # 可缺省，默认 127.0.0.1
    port: 3306 # 可缺省，默认 3306
    user: user
    password: password
  redis: # 可缺省，此配置存在时，会创建一个默认redis连接添加到变量，key值：redis_default
    p: 127.0.0.1 # 可缺省，默认 127.0.0.1
    port: 6379 # 可缺省，默认6379
    password: password # 可缺省
    selete: 0 # 可缺省，默认 0
dataset: # 可空，正对当前 suite 生效
  setup: # 可空，在完成 suite 中的 vars绑定后执行
    - __method1()
  teardown: # 可空，在 suite 中的所有用例执行完成后执行
    - __method2()
  vars: # 可空，自定义变量，完成 suite解析后，优先进行vars绑定
    vars1: value1
suite:
  enable_import: false # 可缺省
  sets:
    - name: xx接口测试用例集
      config:
        request:
          protocol: https # 可缺省，默认http协议
          host: 127.0.0.1 # 可缺省，默认 127.0.0.1
          port: 80 #可缺省，http协议默认80，https默认443
          method: post # 可缺省，默认 GET
          headers:
            Content-Type: Application/json;charSet=utf-8
          api: /api/test # 可缺省
        jdbc: # 可缺省，此配置存在时，会创建一个默认jdbc连接添加到变量，key值：jdbc_default
          type: mysql # 可缺省，默认 mysql
          host: 127.0.0.1 # 可缺省，默认 127.0.0.1
          port: 3306 # 可缺省，默认 3306
          user: user
          password: password
        redis: # 可缺省，此配置存在时，会创建一个默认redis连接添加到变量，key值：redis_default
          host: 127.0.0.1 # 可缺省，默认 127.0.0.1
          port: 6379 # 可缺省，默认6379
          password: password # 可缺省
          selete: 0 # 可缺省，默认 0
      dataset: # 可空，针对当前 caseset 生效
        setup: # 可空，在完成当前 caseset 中的 vars绑定后执行
          - __method1()
        teardown: # 可空，在当前 caseset 中的所有用例执行完成后执行
          - __method2()
        vars: # 可空，自定义变量，执行当前caseset中的用例时，优先进行vars绑定
          vars1: value1
      cases:
        - title: 测试用例1
          config:
            request:
              protocol: https # 可缺省，默认http协议
              host: 127.0.0.1 # 可缺省，默认 127.0.0.1
              port: 80 #可缺省，http协议默认80，https默认443
              method: post # 可缺省，默认 GET
              headers:
                Content-Type: Application/json;charSet=utf-8
              api: /api/test # 可缺省
          dateset: # 可空，针对当前 case 生效
            setup: # 可空，在完成当前 case 中的 vars绑定后执行
              - __method1()
            teardown: # 可空，在当前 case 中的所有用例执行完成后执行
              - __method2()
            vars: # 可空，自定义变量，执行当前 case时，优先进行vars绑定
              vars1: value1
          data: # 请求参数，可空，url参数使用 query，form-urlencode使用 data，json使用body
            user: xx1
            password: xx2
          checkers: # 检查点
            - {checker: status, expect: 200, func: ==}
            - {checker: $.code, expect: 0, func: ==}
        - title: 测试用例2
          config:
            skip: true
          dateset:
            vars:
              vars1: value1
          data:
            user: xx1
            password: xx2
          checkers:
            - {checker: status, expect: 200, func: ==}
            - {checker: $.code, expect: 0, func: ==}
    - name: yy接口测试用例集
      config:
        request:
          protocol: https # 可缺省，默认http协议
          host: 127.0.0.1 # 可缺省，默认 127.0.0.1
          port: 80 #可缺省，http协议默认80，https默认443
          method: post # 可缺省，默认 GET
          headers:
            Content-Type: Application/json;charSet=utf-8
          api: /api/test # 可缺省
      cases:
        - title: 测试用例1
          dateset:
            vars2: value2
          data:
            user: xx1
            password: xx2
          checkers:
            - {checker: status, expect: 200, func: ==}
            - {checker: $.code, expect: 0, func: ==}
