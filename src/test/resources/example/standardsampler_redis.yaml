title: 标准redis取样器
testclass: redissampler
reportelement:
  enableOfflineMode: true
configelements:
  - testclass: RedisDataSource
    variable_name: RedisDataSource_var
    host: 127.0.0.1
    port: 6379
  - testclass: JDBCDataSource
    variable_name: JDBCDataSource_var
    url: 'jdbc:mysql://127.0.0.1:3306/waaagh?characterEncoding=utf8&useSSL=false&serverTimezone=GMT%2b8&failOverReadOnly=false'
    username: 'root'
    password: '123456qq'
config:
  datasource: RedisDataSource_var
  command: hset
  send: syshash,key2,value2
validators:
  - { testclass: resultassertion, expected: 1, rule: '=='}
PreProcessors:
  - testclass: jdbcpreprocessor
    datasource: JDBCDataSource_var
    statement: 'select * from users;'
    extractors:
      - { testclass: jsonextractor, field: '$.user_name', variable_name: users }